{% extends "base.html" %}


{% block content %}
    <style>
        .user-box {
            border: 1px solid #ccc;
            padding: 10px;
            margin-bottom: 20px;
        }
        .file-box {
            border: 1px solid #eee;
            padding: 5px;
            margin-left: 20px;
        }
    </style>

    <div class="container">
        <h1>Search Results for "{{ query }}"</h1>

        {% for user in users %}
            <div class="user-box">
                <h2>{{ user.username }}</h2>
                <div class="row">
                    {% for file in user_files %}
                        {% if file.user == user %}
                            <div class="col-lg-4 mb-3">
                                <div class="d-flex file-box">
                                    <p class="mr-3 mb-0">File Title: {{ file.title }}</p> 
                                    <a class="ms-auto mb-0" href="{{ file.file.url }}">View</a>
                           
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        {% empty %}
            <p>No users found.</p>
        {% endfor %}
    </div>
{% endblock content %}
